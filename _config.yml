# Book settings
title: thinkpy
author: "Tsangyao Chen"
copyright: "2026"
logo: _static/thinkpy-logo-com.png
language: en
only_build_toc_files: true

# Execution settings
# Force re-execution of notebooks on each build.
# See https://jupyterbook.org/content/execute.html
execute:
  execute_notebooks: auto
  kernel_name: python3
  exclude_tags: [skip-execution]
  timeout: 300
  allow_errors: false
  stderr_output: show
  output_cache: true

# Sphinx settings
sphinx:
  extra_extensions:
    - sphinx_new_tab_link
    - sphinx.ext.autodoc
    - sphinx_thebe
    - sphinxcontrib.mermaid
    - sphinxcontrib.bibtex
  config:
    bibtex_bibfiles:
      - chapters/references.bib
    bibtex_reference_style: author_year
    bibtex_default_style: unsrt ### Keep bibliography numeric/ordered
    html_static_path: ["_static"]
    html_css_files:
      - custom.css?v=20260222
    html_js_files:
      - custom.js?v=20260222
    new_tab_link_show_external_link_icon: true ### default
    new_tab_link_enable_referrer: false ### adds rel="noreferrer" by default
    html_use_index: true # default is true, but set it explicitly if unsure
    html_domain_indices: true # keeps domain-specific indices on
    thebe_config:
      repository_url: https://github.com/tychen742/py
      kernel_name: python3
      # selector: "div.cell.tag_thebe-interactive"
      # THEBE SETUP (Feb 10, 2026):
      # - Changed selector to "div.cell" to make ALL code cells executable
      # - CSS styling (red bar + label) still targets only .tag_thebe-interactive cells
      # - Exercise cells are visually distinguished but all cells are interactive
      # selector: "div.tag_thebe-interactive"  # Old: only exercise cells were interactive
      selector: "div.cell" # New: all code cells are interactive
      selector_input: "div.cell_input"
      selector_output: "div.cell_output"
      bootstrap: false
      requestKernel: true
      predefinedOutput: false # Keep this true to show static output before execution
    html_theme_options:
      repository_url: https://github.com/tychen742/py
      repository_branch: main
      use_issues_button: true
      use_repository_button: true
      use_edit_page_button: true
      show_prev_next: true
      navigation_with_keys: true
      launch_buttons:
        thebe: true
        binderhub_url: "https://mybinder.org"

# citeproc:
#     style: https://raw.githubusercontent.com/citation-style-language/styles/master/apa.csl

repository:
  url: https://github.com/tychen742/py # Online location of your book
  branch: main # Which branch of the repository should be used when creating links (optional)

# HTML/theme settings
html:
  use_numbered_headings: true
  number_toc_depth: 4
  favicon: ./_static/favicon-io_green-gold/favicon.ico

# MyST parsing
parse:
  myst_enable_extensions:
    - colon_fence
    - dollarmath
    - linkify
    - substitution
    - html_admonition
    - html_image
    # - citations            # REMOVE: not supported in myst-parser 3.0

exclude_patterns:
  - ".venv"
  - "assignments"
  - "materials"
  - "otter_files"
  - "temps"
  - "tests"
  - "chapters_blank"
  - "data"
  - "*_worksheet.ipynb"
  # - 'code'        ### no need for trailing slash
  - "README.md"
  - ".ipynb_checkpoints"
  - ".DS_Store"
# Table of contents
